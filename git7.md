# git 学习笔记

## git 仓库
一个项目, 就可以理解为一个仓库, 仓库分为本地仓库和远程仓库.
初始化一个仓库, 
git init

## git 分区
git 在不考虑 远程仓库的情况下, 一共有三个区. 一个工作区, 一个暂存区, 一个本地仓库.
本地仓库, 通过 push 推送到远程仓库
远程仓库, 通过pull, clone 拉取到本地仓库

### 工作区
工作区, 就是当前项目下的目录, 可以视为工作区, 然后不断地新增, 修改, 删除 文件. 对文件进行操作.
处于工作区的文件, 相当于, 暂未最终确认, 随时还会发生变更.
当一个文件已经修改好了, 确认不在变更了, 就需要添加到 暂存区, 申明该文件不再改了, 准备提交了
添加到暂存区 git add filename / git add . (.表示所有新增或修改的文件全部添加到暂存区)
一个文件 git add 了之后, 就相当于 打麻将里的 '听牌'了, 不再动了, 就等着胡牌了

### 暂存区
暂存区, 就是新添加或已经修改好了的文件, 准备提交到仓库了, git commit -m 'message' 提交到仓库

### 本地仓库
本地仓库, 就是本地的暂存区 commit 上来的文件, 汇集成的一个仓库. 通过 git push 推送到远程仓库
如果要从远程仓库拉取文件, 使用 git pull 或 git clone

## git 常用命令
### git init
创建本地仓库, 初始化一个仓库

### git add
将工作区文件, 添加到暂存区
git add filename, 后面加指定文件名, 表示, 只添加某个文件到暂存区
git add . add 点, 表示添加所有工作区处理的文件到暂存区

### git commit 
将暂存区的文件, 提交到本地仓库
git commit -m 'message', 参数 -m , 表示提交备注

### git status
查看当前仓库的状态, 一走git status, 就能知道当前仓库, 有什么文件是新增, 有什么是修改了, 有什么是删除了
面对'不明真相的吃瓜群众', 想了解仓库的当前状态, 只需 git status 便知.

### git log
查看 提交 日志
通过git log , 可以查看这个仓库的提交历史, 哪个用户, 什么时间做了提交, 提交备注是什么, 按提交时间倒序排列
最新的提交在前面, 历史提交在后面
如果日志太多, 需要翻页时, 按 f (forward) 向前翻, b (backward) 向后翻, q (quit) 退出
另外还可以指定显示日志的条数
如, git log -10 , 表示只显示近10条的日志

### git show
查看日志详情
git show commit编号, 可简写前几位, 能看到本次提交的修改内容

### git reset
将已提交到暂存区, 或本地仓库的代码, 回退回去. 通常我们要回退的是上一次的操作. 所以加一个^.
如果回退到上两次, 就加两个^, 或者写^2, ^100.

git reset --soft HEAD^ soft是软回退, 只是将本地仓库的当前版本回退到上一次提交之前的状态. 
上一次提交的修改内容, 仍处于暂存区等待提交状态. 简单地说就是, 当我没提交, 或者说, 当我没喊'胡了', 下次随时可以再喊'胡了', 提交上来.

git reset --mixed HEAD^ mixed是默认参数, 不写就默认是mixed的. 首先将本地仓库的当前版本回退到上一次提交之前的状态
同时, 将 add 到暂存区的动作也撤销回去, 表示这个文件还需要修改, 不但要, 当我没喊'胡了'(提交版本不算), 而且要当我没'听牌'(从暂存区回退到工作区), 我的牌还要再打会(继续修改).

git reset --hard HEAD^ hard是硬回退. 首先将版本回退到上一次提交之前的状态, 然后暂存区也移出去, 甚至连工作区里此次的文件的修改也整个复原到此次修改之前的状态. 用一句来说, 这把不算, 重新再开.(纯属耍无赖行为).
当文件被改的乱七八糟, 想很彻底重来时使用.

### git checkout
理解了上面的reset, 那checkout就更好理解了. checkout 就是将已经做了修改的文件, 想复原到本次修改最初始状态时使用.
相当于, 这把不算, 重新开始摸.
git checkout -- filename
注意

1: git checkout -- filename, -- 后面要加个空格, 再加文件名

2: checkout 只针对工作区文件的修改, 复原到本次修改的最初状态. 而对于已经 add 到暂存区的修改是不会复原的.

### git rm
本地删除文件后 rm filename, 在本地仓库中还有记录, 需求将删除操作推送到仓库中. 
使用git rm filename. git commit 提交, 告诉仓库, 这个文件已被删除.

### .gitignore
添加忽略文件列表, 如日志文件, 缓存文件, 临时文件等, 写入.gitignore 将不会被追踪.

### git branch
分支, git branch branchname


